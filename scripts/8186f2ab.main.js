this.Shareabouts=this.Shareabouts||{},this.Shareabouts.Templates=this.Shareabouts.Templates||{},Handlebars.registerPartial("location-string",Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,j="";return j+="\n  ",e=c.is||a&&a.is,f={hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b},d=e?e.call(a,a&&a.geocodeQuality,"POINT",f):n.call(a,"is",a&&a.geocodeQuality,"POINT",f),(d||0===d)&&(j+=d),j+="\n\n  ",e=c.is||a&&a.is,f={hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b},d=e?e.call(a,a&&a.geocodeQuality,"ADDRESS",f):n.call(a,"is",a&&a.geocodeQuality,"ADDRESS",f),(d||0===d)&&(j+=d),j+="\n\n  ",e=c.is||a&&a.is,f={hash:{},inverse:m.noop,fn:m.program(4,h,b),data:b},d=e?e.call(a,a&&a.geocodeQuality,"ZIP",f):n.call(a,"is",a&&a.geocodeQuality,"ZIP",f),(d||0===d)&&(j+=d),j+="\n\n  ",e=c.is||a&&a.is,f={hash:{},inverse:m.noop,fn:m.program(6,i,b),data:b},d=e?e.call(a,a&&a.geocodeQuality,"CITY",f):n.call(a,"is",a&&a.geocodeQuality,"CITY",f),(d||0===d)&&(j+=d),j+="\n"}function g(a,b){var d,e,f="";return f+="\n    \n    ",(e=c.street)?d=e.call(a,{hash:{},data:b}):(e=a&&a.street,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+", ",(e=c.adminArea5)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea5,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+" ",(e=c.adminArea3)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea3,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+"\n  "}function h(a,b){var d,e,f="";return f+="\n    \n    ",(e=c.adminArea5)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea5,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+", ",(e=c.adminArea3)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea3,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+" ",(e=c.postalCode)?d=e.call(a,{hash:{},data:b}):(e=a&&a.postalCode,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+"\n  "}function i(a,b){var d,e,f="";return f+="\n    \n    ",(e=c.adminArea5)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea5,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+", ",(e=c.adminArea3)?d=e.call(a,{hash:{},data:b}):(e=a&&a.adminArea3,d=typeof e===k?e.call(a,{hash:{},data:b}):e),f+=l(d)+"\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k="function",l=this.escapeExpression,m=this,n=c.helperMissing;return j=c["if"].call(b,b,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),j||0===j?j:""})),Handlebars.registerPartial("place-name",Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n  ",(e=c.name)?d=e.call(a,{hash:{},data:b}):(e=a&&a.name,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"\n"}function g(a,b){var d,e="";return e+="\n  ",d=c["if"].call(a,a&&a.location,{hash:{},inverse:l.noop,fn:l.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function h(a,b){var e,f="";return f+="\n    ",e=l.invokePartial(d["location-string"],"location-string",a&&a.location,c,d,b),(e||0===e)&&(f+=e),f+="\n  "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var i,j="function",k=this.escapeExpression,l=this;return i=c["if"].call(b,b&&b.name,{hash:{},inverse:l.program(3,g,e),fn:l.program(1,f,e),data:e}),i||0===i?i:""})),this.Shareabouts.Templates["dataset-list-item"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="row">\n  <div class="medium-8 large-10 columns">\n    <h4><strong>',(g=c.name)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</strong>\n  </div><!-- end .columns -->\n  <div class="medium-4 large-2 columns">\n    <a href="#',(g=c.id)?f=g.call(b,{hash:{},data:e}):(g=b&&b.id,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="button expand radius">EDIT</a>\n  </div>\n</div>'}),this.Shareabouts.Templates["dataset-list"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'    <div class="row">\n      <div class="small-12 columns">\n        <br>\n        <h1>Datasets</h1>\n\n        <div class="dataset-items"></div>\n\n      </div>\n    </div>\n'}),this.Shareabouts.Templates["header-bar"]=Handlebars.template(function(a,b,c,d,e){function f(){return"hide-for-small-up"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i=this;return h+='<nav class="top-bar" data-topbar data-options="sticky_on: large">\n  <ul class="title-area">\n    <li class="name"><h1><a href="#">CDOT | Shareabouts Editor</a></h1></li>\n    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>\n  </ul>\n  <section class="top-bar-section">\n    <ul class="right">\n      <li class=""><a class="sign-out-link ',g=c["if"].call(b,b&&b.user,{hash:{},inverse:i.program(1,f,e),fn:i.noop,data:e}),(g||0===g)&&(h+=g),h+='" href="#">Sign Out</a></li>\n    </ul>\n  </section>\n</nav>\n'}),this.Shareabouts.Templates.pagination=Handlebars.template(function(a,b,c,d,e){function f(){return'\n  <li class="arrow unavailable"><a href="#">&laquo;</a></li>\n  '}function g(a,b){var d,e,f,g="";return g+='\n  <li class="arrow"><a href="#" data-page="'+r((e=c.subtract||a&&a.subtract,f={hash:{},data:b},e?e.call(a,(d=a&&a.metadata,null==d||d===!1?d:d.page),1,f):q.call(a,"subtract",(d=a&&a.metadata,null==d||d===!1?d:d.page),1,f)))+'">&laquo;</a></li>\n  '}function h(a,b,d){var e,f,g,h="";return h+="\n    ",f=c.is||d&&d.is,g={hash:{},inverse:t.program(8,j,b),fn:t.program(6,i,b),data:b},e=f?f.call(a,(e=d&&d.metadata,null==e||e===!1?e:e.page),a,g):q.call(a,"is",(e=d&&d.metadata,null==e||e===!1?e:e.page),a,g),(e||0===e)&&(h+=e),h+="\n  "}function i(a){var b="";return b+='\n    <li class="current"><a href="#" data-page="'+r(typeof a===s?a.apply(a):a)+'">'+r(typeof a===s?a.apply(a):a)+"</a></li>\n    "}function j(a){var b="";return b+='\n    <li><a href="#" data-page="'+r(typeof a===s?a.apply(a):a)+'">'+r(typeof a===s?a.apply(a):a)+"</a></li>\n    "}function k(){return'\n  <li class="arrow unavailable"><a href="#">&raquo;</a></li>\n  '}function l(a,b){var d,e,f,g="";return g+='\n  <li class="arrow"><a href="#" data-page="'+r((e=c.add||a&&a.add,f={hash:{},data:b},e?e.call(a,(d=a&&a.metadata,null==d||d===!1?d:d.page),1,f):q.call(a,"add",(d=a&&a.metadata,null==d||d===!1?d:d.page),1,f)))+'">&raquo;</a></li>\n  '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q=c.helperMissing,r=this.escapeExpression,s="function",t=this;return p+='<hr>\n<ul class="pagination">\n  ',n=c.is||b&&b.is,o={hash:{},inverse:t.program(3,g,e),fn:t.program(1,f,e),data:e},m=n?n.call(b,(m=b&&b.metadata,null==m||m===!1?m:m.page),1,o):q.call(b,"is",(m=b&&b.metadata,null==m||m===!1?m:m.page),1,o),(m||0===m)&&(p+=m),p+="\n\n  ",n=c.range||b&&b.range,o={hash:{},inverse:t.noop,fn:t.programWithDepth(5,h,e,b),data:e},m=n?n.call(b,1,(m=b&&b.metadata,null==m||m===!1?m:m.num_pages),o):q.call(b,"range",1,(m=b&&b.metadata,null==m||m===!1?m:m.num_pages),o),(m||0===m)&&(p+=m),p+="\n\n  ",n=c.is||b&&b.is,o={hash:{},inverse:t.program(12,l,e),fn:t.program(10,k,e),data:e},m=n?n.call(b,(m=b&&b.metadata,null==m||m===!1?m:m.page),(m=b&&b.metadata,null==m||m===!1?m:m.num_pages),o):q.call(b,"is",(m=b&&b.metadata,null==m||m===!1?m:m.page),(m=b&&b.metadata,null==m||m===!1?m:m.num_pages),o),(m||0===m)&&(p+=m),p+="\n</ul>\n<hr>"}),this.Shareabouts.Templates["place-form"]=Handlebars.template(function(a,b,c,d,e){function f(){return'\n                    <option value="Submitted via public map">Submitted via public map</option>\n                    <option value="311">311</option>\n                    <option value="311+Alderman">311+Alderman</option>\n                    <option value="Alderman">Alderman</option>\n                    <option value="Bike Parking Staff">Bike Parking Staff</option>\n                    <option value="Phone">Phone</option>\n                    <option value="Mayor">Mayor</option>\n                    '}function g(){return'checked="checked"'}function h(a,b){var d,e,f,g="";return g+="\n\n                    ",e=c.is||a&&a.is,f={hash:{},inverse:q.program(8,j,b),fn:q.program(6,i,b),data:b},d=e?e.call(a,a&&a.location_type,"bikeparking",f):r.call(a,"is",a&&a.location_type,"bikeparking",f),(d||0===d)&&(g+=d),g+="\n\n                    "}function i(){return'\n                    <option value="">Not Yet Surveyed</option>\n                    <option value="Approved">Approved</option>\n                    <option value="Rejected">Rejected</option>\n                    <option value="Existing">Existing</option>\n                    '}function j(){return'\n                    <option value="">New Report</option>\n                    <option value="Resolved">Resolved</option>\n                    '}function k(){return'\n                    <option value=""></option>\n                    <option value="Residential">Residential</option>\n                    <option value="Private Property">Private Property</option>\n                    <option value="Sufficient Bike Parking">Sufficient Bike Parking</option>\n                    <option value="Insufficient Sidewalk Width">Insufficient Sidewalk Width</option>\n                    <option value="Duplicate Request">Duplicate Request</option>\n                    <option value="No Suitable Surface">No Suitable Surface</option>\n                    <option value="Not Enough Clearance">Not Enough Clearance</option>\n                    <option value="Sidewalk Cafe">Sidewalk Cafe</option>\n                    <option value="Inside a Strip Mall/Shopping Center">Inside a Strip Mall/Shopping Center</option>\n                    '}function l(){return'\n                        <option value=""></option>\n                        <option value="Type B">Type B</option>\n                        <option value="Plaza">Plaza</option>\n                        <option value="Mini-Plaza">Mini-Plaza</option>\n                        <option value="Corral">Corral</option>\n                        <option value="Type A5">Type A5</option>\n                        <option value="Type A3">Type A3</option>\n                        <option value="Other">Other</option>\n                        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var m,n,o,p="",q=this,r=c.helperMissing,s=this.escapeExpression,t="function";return p+='    <div class="row">\n      <div class="small-12 columns">\n        '+s((n=c.debug||b&&b.debug,o={hash:{},data:e},n?n.call(b,b,o):r.call(b,"debug",b,o)))+'\n        <br>\n        <ul class="breadcrumbs">\n          <li><a href="#">Datasets</a></li>\n          <li><a href="#'+s((n=c.currentDataset||b&&b.currentDataset,o={hash:{},data:e},n?n.call(b,"id",o):r.call(b,"currentDataset","id",o)))+'">'+s((n=c.currentDataset||b&&b.currentDataset,o={hash:{},data:e},n?n.call(b,"name",o):r.call(b,"currentDataset","name",o)))+'</a></li>\n          <li class="current"><a href="#">',(n=c.id)?m=n.call(b,{hash:{},data:e}):(n=b&&b.id,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+" </a></li>\n        </ul>\n\n        <form>\n\n          <h1>",m=q.invokePartial(d["place-name"],"place-name",b,c,d,e),(m||0===m)&&(p+=m),p+=' <span class="label secondary radius">Created: <strong>'+s((n=c.formatDateTime||b&&b.formatDateTime,o={hash:{},data:e},n?n.call(b,b&&b.created_datetime,"MMM DD, YYYY [at] H:MM",o):r.call(b,"formatDateTime",b&&b.created_datetime,"MMM DD, YYYY [at] H:MM",o)))+'</strong></span></h1>\n\n          <fieldset>\n            <legend>Place Details</legend>\n\n            <div class="row">\n              <div class="large-8 columns">\n\n                <label>Name<input type="text" name="name" value="',(n=c.name)?m=n.call(b,{hash:{},data:e}):(n=b&&b.name,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                <label>Description<textarea rows="6" name="description">',(n=c.description)?m=n.call(b,{hash:{},data:e}):(n=b&&b.description,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'</textarea></label>\n                <label>Source\n                  <select name="source">\n                    ',n=c.select||b&&b.select,o={hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e},m=n?n.call(b,b&&b.source,o):r.call(b,"select",b&&b.source,o),(m||0===m)&&(p+=m),p+='\n                  </select>\n                </label>\n                <label>Source Locator<input type="text" name="source_locator" value="',(n=c.source_locator)?m=n.call(b,{hash:{},data:e}):(n=b&&b.source_locator,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n\n              </div><!-- end .columns -->\n              <!--\n              <div class="large-4 columns">\n\n                <label>Location</label>\n                <img src="http://placehold.it/1000x550&text=map">\n                <button class="button tiny expand">EDIT LOCATION</button>\n                <label>Ward: <strong>Reverse-Geocoded Ward Name</strong></label>\n                <label>Address: <strong>Reverse-Geocoded Address</strong></label>\n\n              </div>--><!-- end .columns -->\n            </div><!-- end .row -->\n\n          </fieldset>\n\n          <fieldset>\n            <legend>Bike Parking Status</legend>\n\n            <div class="row">\n              <div class="large-4 large-push-8 columns">\n\n                <br class="show-for-large-up">\n                <label for="priority" class="button secondary expand radius alert">\n                  <input id="priority" type="checkbox" name="priority" ',m=c["if"].call(b,b&&b.priority,{hash:{},inverse:q.noop,fn:q.program(3,g,e),data:e}),(m||0===m)&&(p+=m),p+='> PRIORITY</label>\n\n              </div><!-- end .columns -->\n              <div class="large-8 large-pull-4 columns">\n\n                <label>Status\n                  <select name="status">\n                    ',n=c.select||b&&b.select,o={hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e},m=n?n.call(b,b&&b.status,o):r.call(b,"select",b&&b.status,o),(m||0===m)&&(p+=m),p+='\n                  </select>\n                </label>\n                <label>Date Surveyed<input type="text" class="date" name="date_surveyed" value="',(n=c.date_surveyed)?m=n.call(b,{hash:{},data:e}):(n=b&&b.date_surveyed,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                <label>Surveyed By<input type="text" name="surveyor" value="',(n=c.surveyor)?m=n.call(b,{hash:{},data:e}):(n=b&&b.surveyor,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                <label>Rejection Reason\n                  <select name="rejection_reason">\n                    ',n=c.select||b&&b.select,o={hash:{},inverse:q.noop,fn:q.program(10,k,e),data:e},m=n?n.call(b,b&&b.rejection_reason,o):r.call(b,"select",b&&b.rejection_reason,o),(m||0===m)&&(p+=m),p+='\n                  </select>\n                </label>\n                <div class="row">\n                  <div class="columns small-5 medium-3">\n                    <label>Approved Qty<input type="text" name="approved_qty" value="',(n=c.approved_qty)?m=n.call(b,{hash:{},data:e}):(n=b&&b.approved_qty,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                  </div>\n                  <div class="columns small-7 medium-9">\n                    <label>Approved Type\n                      <select name="approved_type">\n                        ',n=c.select||b&&b.select,o={hash:{},inverse:q.noop,fn:q.program(12,l,e),data:e},m=n?n.call(b,b&&b.approved_type,o):r.call(b,"select",b&&b.approved_type,o),(m||0===m)&&(p+=m),p+='\n                      </select>\n                    </label>\n                  </div><!-- end .columns -->\n                </div><!-- end .row -->\n\n                <hr>\n\n                <label>Date Installed<input type="text" name="date_installed" value="',(n=c.date_installed)?m=n.call(b,{hash:{},data:e}):(n=b&&b.date_installed,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                <label>Post-Inspected By<input type="text" name="post_inspected_by" value="',(n=c.post_inspected_by)?m=n.call(b,{hash:{},data:e}):(n=b&&b.post_inspected_by,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n                <label>Post-Inspection Results<input type="text" name="post_inspection_results" value="',(n=c.post_inspection_results)?m=n.call(b,{hash:{},data:e}):(n=b&&b.post_inspection_results,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'"></label>\n\n                </div><!-- end .columns -->\n              </div><!-- end .row -->\n\n          </fieldset>\n\n          <fieldset>\n            <legend>Notes</legend>\n\n            <div class="row">\n              <div class="large-8 columns">\n\n                <label>Public Notes<textarea rows="6" name="notes_public">',(n=c.notes_public)?m=n.call(b,{hash:{},data:e}):(n=b&&b.notes_public,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'</textarea></label>\n                <label>Private Notes<textarea rows="6" name="notes_private">',(n=c.notes_private)?m=n.call(b,{hash:{},data:e}):(n=b&&b.notes_private,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'</textarea></label>\n                <label>Contractor Notes<textarea rows="6" name="notes_contractor">',(n=c.notes_contractor)?m=n.call(b,{hash:{},data:e}):(n=b&&b.notes_contractor,m=typeof n===t?n.call(b,{hash:{},data:e}):n),p+=s(m)+'</textarea></label>\n\n              </div><!-- end .columns -->\n            </div><!-- end .row -->\n\n          </fieldset>\n\n          <input type="submit" value="Save Changes" class="button large expand">\n\n        </form>\n\n\n      </div>\n    </div>\n'}),this.Shareabouts.Templates["place-list-item"]=Handlebars.template(function(a,b,c,d,e){function f(){return", Ward Name "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var g,h,i,j="",k=this,l="function",m=this.escapeExpression,n=c.helperMissing;return j+='<div class="row">\n  <div class="medium-8 large-10 columns">\n    <h4><strong>',g=k.invokePartial(d["place-name"],"place-name",b,c,d,e),(g||0===g)&&(j+=g),j+="</strong>\n      ",g=c["if"].call(b,b&&b.ward,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(j+=g),j+="<small>(",(h=c.id)?g=h.call(b,{hash:{},data:e}):(h=b&&b.id,g=typeof h===l?h.call(b,{hash:{},data:e}):h),j+=m(g)+')</small></h4>\n    <span class="label secondary radius">Created: <strong>'+m((h=c.formatDateTime||b&&b.formatDateTime,i={hash:{},data:e},h?h.call(b,b&&b.created_datetime,"MMM DD, YYYY [at] H:MM",i):n.call(b,"formatDateTime",b&&b.created_datetime,"MMM DD, YYYY [at] H:MM",i)))+'</strong></span>\n    <span class="label secondary radius">Status: <strong>'+m((h=c["default"]||b&&b["default"],i={hash:{},data:e},h?h.call(b,b&&b.status,"Not Yet Surveyed",i):n.call(b,"default",b&&b.status,"Not Yet Surveyed",i)))+'</strong></span>\n  </div><!-- end .columns -->\n  <div class="medium-4 large-2 columns">\n    <a href="#',(h=c.currentDataset)?g=h.call(b,{hash:{},data:e}):(h=b&&b.currentDataset,g=typeof h===l?h.call(b,{hash:{},data:e}):h),j+=m(g)+"/",(h=c.id)?g=h.call(b,{hash:{},data:e}):(h=b&&b.id,g=typeof h===l?h.call(b,{hash:{},data:e}):h),j+=m(g)+'" class="button expand radius">EDIT</a>\n  </div>\n</div>'}),this.Shareabouts.Templates["place-list"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='    <div class="row">\n      <div class="small-12 columns">\n        <br>\n        <ul class="breadcrumbs">\n          <li><a href="#">Datasets</a></li>\n          <li class="current"><a href="#',(g=c.id)?f=g.call(b,{hash:{},data:e}):(g=b&&b.id,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">',(g=c.name)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</a></li>\n        </ul>\n\n        <h1>Places</h1>\n\n        <div class="pagination-region"></div>\n        <div class="place-list-region"></div>\n        <div class="pagination-region"></div>\n\n      </div>\n    </div>\n'}),this.Shareabouts.Templates["sign-in"]=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="row">\n  <div class="medium-10 medium-push-1 large-8 large-push-2 columns">\n\n    <h1>Sign In</h1>\n\n    <br>\n\n    <form class="sign-in-form">\n\n      <div class="row collapse">\n        <div class="small-4 large-3 columns">\n          <label for="username" class="prefix">Username</label>\n        </div>\n        <div class="small-8 large-9 columns">\n          <input type="text" id="username">\n        </div>\n      </div>\n\n      <div class="row collapse">\n        <div class="small-4 large-3 columns">\n          <label for="password" class="prefix">Password</label>\n        </div>\n        <div class="small-8 large-9 columns">\n          <input type="password" id="password">\n        </div>\n      </div>\n\n      <div class="row collapse">\n        <div class="small-8 small-push-4 large-9 large-push-3 columns">\n          <button type="submit" class="button sign-in-button expand radius">Sign In</button>\n        </div>\n      </div>\n\n    </form>\n\n\n  </div>\n</div>\n'});var Shareabouts=Shareabouts||{};!function(a){"use strict";Handlebars.registerHelper("currentDataset",function(b,c){return c||(c=b,b=null),a.currentDataset.get(b?b:"id")})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a){"use strict";a.TemplateView=Backbone.Marionette.View.extend({serializeData:function(){return{}},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this);var a=this.serializeData();a=this.mixinTemplateHelpers(a);var b=this.getTemplate(),c=Backbone.Marionette.Renderer.render(b,a);return this.$el.html(c),this.bindUIElements(),this.triggerMethod("render",this),this}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a,b){"use strict";a.PaginationView=Backbone.Marionette.ItemView.extend({template:a.Templates.pagination,ui:{pageLink:"a"},events:{"click @ui.pageLink":"handlePageLinkClick"},handlePageLinkClick:function(c){c.preventDefault();var d=b(c.currentTarget),e=parseInt(d.attr("data-page"),10);e&&e!==this.collection.metadata.page&&(this.collection.fetch({reset:!0,data:{page:e}}),a.router.navigate("dataset/page/"+e))},serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON(),metadata:this.collection.metadata}),a}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a){"use strict";a.DatasetListItemView=Backbone.Marionette.ItemView.extend({className:"panel radius",template:a.Templates["dataset-list-item"]}),a.DatasetListView=Backbone.Marionette.CompositeView.extend({template:a.Templates["dataset-list"],itemView:a.DatasetListItemView,itemViewContainer:".dataset-items"})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a){"use strict";a.PlaceListItemView=Backbone.Marionette.ItemView.extend({className:"panel radius",template:a.Templates["place-list-item"]}),a.PlaceListView=Backbone.Marionette.CollectionView.extend({itemView:a.PlaceListItemView,itemViewContainer:".place-items"}),a.PlaceListLayout=Backbone.Marionette.Layout.extend({template:a.Templates["place-list"],regions:{paginationRegion:".pagination-region",placeListRegion:".place-list-region"},collectionEvents:{reset:"renderPagination"},renderPagination:function(){this.collection.metadata.num_pages>1?this.paginationRegion.show(new a.PaginationView({collection:this.collection})):this.paginationRegion.close()},onRender:function(){this.placeListRegion.show(new a.PlaceListView({collection:this.collection}))}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a,b){"use strict";a.HeaderBarView=a.TemplateView.extend({template:a.Templates["header-bar"],events:{"click .sign-out-link":"onSignOutClick"},serializeData:function(){return{user:a.auth.getUserSession()}},onRender:function(){var c=this;b(a.auth).on("authsuccess",function(a,b){c.$(".sign-out-link").toggleClass("hide-for-small-up",!b)})},onSignOutClick:function(b){b.preventDefault(),a.auth.requestNewUserSession({success:function(){window.location.reload()},error:function(){window.alert("There was an error logging out.\n\nThis is probably a temporary problem.\nPlease try again in a moment.")}})}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a,b,c){"use strict";a.SignInView=a.TemplateView.extend({template:a.Templates["sign-in"],events:{"submit .sign-in-form":"onSignInFormSubmit"},initialize:function(a){a=a||{},a.redirect&&_.isFunction(a.redirect)||c.error("You must supply a redirect function to the sign in view."),this.redirect=a.redirect},onSignInFormSubmit:function(b){b.preventDefault();var c=this,d=this.$("#username").val(),e=this.$("#password").val();c.$(".error").remove(),c.$(".sign-in-button").attr("disabled","disabled"),a.auth.requestNewUserSession(d,e,{success:function(){c.redirect()},error:function(a){if(400===a.status||401===a.status){var b=a.responseJSON;b.errors.__all__?c.$(".sign-in-form").prepend('<small class="error">Incorrect username or password.</small>'):b.errors.username?c.$("#username").after('<small class="error">You must enter a username.</small>'):b.errors.password&&c.$("#password").after('<small class="error">You must enter a password.</small>')}},complete:function(){c.$(".sign-in-button").removeAttr("disabled")}})}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a,b,c){"use strict";var d=function(b){var c=function(){var c,d=arguments,e=function(){b.apply(this,d)};c=a.auth.getUserSession(),c?(a.user=c,b.apply(this,d)):a.controller.signin(e)};return c};a.controller={index:function(){c.log("show the index")},signin:function(b){var c=new a.SignInView({redirect:b});a.app.mainRegion.show(c)},datasetList:d(function(){var b=new a.DatasetListView({collection:a.datasetCollection});a.app.mainRegion.show(b)}),placeList:d(function(b,c){a.currentDataset=a.datasetCollection.findWhere({id:b}),a.placeCollection.url=a.currentDataset.get("url")+"/places";var d=new a.PlaceListLayout({model:a.currentDataset,collection:a.placeCollection});a.app.mainRegion.show(d),a.placeCollection.fetch({reset:!0,data:{include_private:!0,include_invisible:!0,page_size:25,page:parseInt(c,10)||1}})}),placeForm:d(function(b,c){a.currentDataset=a.datasetCollection.findWhere({id:b}),a.placeCollection.url=a.currentDataset.get("url")+"/places";var d=a.placeCollection.get(c),e=function(b){var c=new a.PlaceFormView({model:b,collection:a.placeCollection,template:a.Templates["place-form"]});a.app.mainRegion.show(c)};d?e(d):a.placeCollection.fetchById(c,{success:e,error:function(){window.alert("Place "+c+" can not be found."),a.router.navigate("",{trigger:!0})}})})}}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a){"use strict";a.Router=Backbone.Marionette.AppRouter.extend({controller:a.controller,appRoutes:{"":"datasetList",":dataset_slug":"placeList",":dataset_slug/page/:page":"placeList",":dataset_slug/:place_id":"placeForm"}})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a){"use strict";a.app=new Backbone.Marionette.Application,a.app.addRegions({headerRegion:"#header-region",mainRegion:"#main-region"}),a.app.addInitializer(function(){a.datasetCollection=new Backbone.Collection([{id:"abandoned-bikes",name:"Abandoned Bikes",url:"http://data.shareabouts.org/api/v2/chicagobikes/datasets/chicago-abandoned-bikes"},{id:"bike-parking",name:"Bike Parking",url:"http://data.shareabouts.org/api/v2/chicagobikes/datasets/chicago-bike-parking"}])}),a.app.addInitializer(function(){a.placeCollection=new a.PlaceCollection}),a.app.addInitializer(function(){a.auth=new a.Auth}),a.app.addInitializer(function(){var b=new a.HeaderBarView;a.app.headerRegion.show(b)}),a.app.addInitializer(function(){a.router=new a.Router,Backbone.history.start()})}(Shareabouts,jQuery,Shareabouts.Util.console);var Shareabouts=Shareabouts||{};!function(a,b){"use strict";b(function(){a.app.start({})})}(Shareabouts,jQuery,Shareabouts.Util.console);